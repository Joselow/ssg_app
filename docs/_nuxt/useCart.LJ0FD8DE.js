import{A as r,L as f,p as c}from"./entry.ergjkZK4.js";const p="$s";function y(...t){const s=typeof t[t.length-1]=="string"?t.pop():void 0;typeof t[0]!="string"&&t.unshift(s);const[n,e]=t;if(!n||typeof n!="string")throw new TypeError("[nuxt] [useState] key must be a string: "+n);if(e!==void 0&&typeof e!="function")throw new Error("[nuxt] [useState] init must be a function: "+e);const o=p+n,a=c(),i=r(a.payload.state,o);if(i.value===void 0&&e){const u=e();if(f(u))return a.payload.state[o]=u,u;i.value=u}return i}function l(){const t=y("cart",()=>[]);return{cart:t,addToCart:({product:e})=>{const o=t.value.find(({id:a})=>a===e.id);if(o){o.quantity+=1;return}t.value.push({...e,quantity:1})},clearCart:()=>{t.value=[]}}}export{l as u};
